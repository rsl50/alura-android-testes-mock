/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
create table lance (id bigint generated by default as identity (start with 1), valor double not null, usuario_id bigint, usuario_nome varchar(255), primary key (id))
create table leilao (id bigint generated by default as identity (start with 1), descricao varchar(255), primary key (id))
create table leilao_lances (leilao_id bigint not null, lances_id bigint not null)
create table usuario (id bigint not null, nome varchar(255) not null, primary key (id, nome))
alter table leilao_lances add constraint UK_hhtlrxq5rv6gs0ikhhnhun9ds unique (lances_id)
alter table lance add constraint FKihi95xi8oxrrag21pqhe7n1ux foreign key (usuario_id, usuario_nome) references usuario
alter table leilao_lances add constraint FK2m980ca9i544i8cyo5rv1lsxv foreign key (lances_id) references lance
alter table leilao_lances add constraint FK7tw83ueckh3p8tumymygba4xh foreign key (leilao_id) references leilao
INSERT INTO LEILAO VALUES(1,'Computador')
COMMIT
INSERT INTO LEILAO VALUES(2,'Console')
COMMIT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C2*/DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
